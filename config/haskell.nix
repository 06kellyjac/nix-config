pkgs: version: hpkgs: with hpkgs;

# These work with every version of GHC environments are created for
[
  Boolean
  HTTP
  HUnit
  IfElse
  ListLike
  MemoTrie
  MissingH
  MonadPrompt
  Network-NineP
  QuickCheck
  abstract-deque
  abstract-par
  adjunctions
  aeson
  alex
  amqp
  async
  async-pool
  attempt
  attoparsec
  attoparsec-conduit
  base
  base-unicode-symbols
  base16-bytestring
  base64-bytestring
  basic-prelude
  bifunctors
  binary
  binary-orphans
  bindings-DSL
  blaze-builder
  blaze-builder-conduit
  blaze-html
  blaze-markup
  blaze-textual
  bool-extras
  bound
  byteable
  byteorder
  bytes
  bytestring
  bytestring-mmap
  bytestring-show
  c2hsc
  case-insensitive
  cassava
  categories
  cereal
  cereal-conduit
  charset
  checkers
  chunked-data
  classy-prelude
  classy-prelude-conduit
  cmdargs
  comonad
  comonad-transformers
  composition
  compressed
  cond
  conduit
  conduit-combinators
  conduit-extra
  configurator
  connection
  consistent
  constraints
  containers
  contravariant
  convertible
  cpphs
  criterion
  cryptohash
  css-text
  curl
  data-checked
  data-default
  data-default-class
  data-fix
  deepseq
  deepseq-generics
  derive-storable
  deriving-compat
  directory
  distributive
  dlist
  dlist-instances
  dns
  doctest
  doctest-prop
  either
  errors
  exceptions
  extensible-exceptions
  failure
  fast-logger
  fgl
  file-embed
  filemanip
  filepath
  fingertree
  fmlist
  foldl
  free
  free-vl
  freer-simple
  fsnotify
  fuzzcheck
  generic-lens
  ghc-core
  ghc-datasize
  ghc-heap-view
  ghc-paths
  gitlib
  gitlib-libgit2
  gitlib-sample
  gitlib-test
  groups
  hakyll
  hamlet
  happy
  hashable
  hashtables
  haskell-lexer
  haskell-src
  haskell-src-exts
  hasktags
  here
  hierarchy
  hlibgit2
  hlint
  hmatrix
  hslogger
  hspec
  hspec-expectations
  hspec-megaparsec
  hspec-wai
  html
  http-client
  http-client-tls
  http-date
  http-media
  http-types
  insert-ordered-containers
  interpolate
  io-memoize
  io-storage
  io-streams
  ipcvar
  json
  json-stream
  kan-extensions
  kdt
  keys
  language-c
  lattices
  lens
  lens-action
  lens-aeson
  lens-datetime
  lens-family
  lens-family-core
  lifted-async
  lifted-base
  linear
  list-extras
  list-t
  logging
  logict
  machinecell
  machines
  matrices
  megaparsec
  mime-mail
  mime-types
  mmorph
  monad-control
  monad-coroutine
  monad-extras
  monad-logger
  monad-loops
  monad-par
  monad-par-extras
  monad-stm
  monadlist
  monadloc
  mono-traversable
  monoid-extras
  mtl
  multimap
  network
  network-simple
  newtype
  numbers
  operational
  optparse-applicative
  parallel
  parallel-io
  parsec
  parsers
  pcre-heavy
  pipes
  pipes-async
  pipes-attoparsec
  pipes-binary
  pipes-bytestring
  pipes-concurrency
  pipes-extras
  pipes-files
  pipes-group
  pipes-http
  pipes-network
  pipes-parse
  pipes-safe
  pipes-text
  pipes-zlib
  pointed
  pointfree
  posix-paths
  pretty-show
  pretty-simple
  primitive
  process
  process-extras
  profunctors
  quickcheck-instances
  random
  random-fu
  random-source
  recursors
  reducers
  reflection
  regex-applicative
  regex-base
  regex-compat
  regex-posix
  regex-tdfa-text
  repline
  resourcet
  retry
  safe
  scalpel
  scientific
  semigroupoids
  semigroups
  semiring-simple
  serialise
  servant
  servant-blaze
  servant-client
  servant-docs
  servant-foreign
  servant-server
  shake
  shakespeare
  silently
  simple-reflect
  smallcheck
  speculation
  split
  spoon
  stm
  stm-chans
  stm-stats
  streaming
  streaming-bytestring
  streaming-commons
  streaming-concurrency
  streaming-with
  strict
  stringsearch
  strptime
  syb
  system-fileio
  system-filepath
  tagged
  tar
  tardis
  tasty
  tasty-hspec
  tasty-hunit
  tasty-quickcheck
  tasty-smallcheck
  tasty-th
  temporary
  text
  text-format
  text-show
  these
  thyme
  time
  time-recurrence
  timeparsers
  tls
  total
  transformers
  transformers-base
  trifecta
  turtle
  unbound-generics
  uniplate
  unix-compat
  unordered-containers
  uuid
  vector
  void
  wai
  warp
  weigh
  x509
  x509-store
  x509-system
  xml
  yaml
  z3
  z3-generate-api
  zippers
  zlib
] ++

# These don't work with GHC 8.4 yet
(pkgs.stdenv.lib.optionals (version < 8.3)
[
  attoparsec-enumerator
  bench
  blaze-builder-enumerator
  cabal-helper
  commodities
  diagrams
  diagrams-core
  diagrams-graphviz
  diagrams-lib
  diagrams-svg
  djinn
  enclosed-exceptions
  gitlib-cmdline
  graphviz
  hdevtools
  hspec-smallcheck
  inline-c
  inline-c-cpp
  lambdabot
  mueval
  postgresql-simple
  sbv
  sbvPlugin
  scotty
  servant-js
  shelly
  stylish-haskell
  timeplot
  vector-sized
]) ++

# These only work with GHC 8.2
(pkgs.stdenv.lib.optionals (version > 8.1)
[
  # ghc-mod
  liquidhaskell
  # threadscope
])
